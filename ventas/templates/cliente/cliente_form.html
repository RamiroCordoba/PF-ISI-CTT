{% extends 'dashboard/principal.html' %}
{% block Contenido %}
<div class="container-fluid px-4" style="background-color: #f5f6fa; min-height: 100vh;">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-7">
      <div class="card border-0 mt-4 shadow-lg" style="box-shadow: 0 6px 32px 0 rgba(0,0,0,0.10), 0 1.5px 6px 0 rgba(0,0,0,0.08);">
        <div class="card-header text-white text-center py-3 rounded-top" style="background: #ff8800;">
          <h3 class="mb-0">
            {% if form.instance.pk %}
              <i class="fa fa-edit me-2"></i>Editando cliente
            {% else %}
              <i class="fa fa-plus me-2"></i>Nuevo cliente
            {% endif %}
          </h3>
        </div>
        <div class="card-body bg-white">
          <form action="" method="post" autocomplete="off">
            {% csrf_token %}

            <!-- Nombre -->
            <div class="mb-4">
              <label for="id_nombre" class="form-label fw-semibold">Nombre</label>
              <input type="text" name="nombre" class="form-control form-control-lg" id="id_nombre" value="{{ form.nombre.value|default_if_none:'' }}">
              {% if form.nombre.errors %}
                <div class="text-danger small mt-1">{{ form.nombre.errors }}</div>
              {% endif %}
            </div>

            <!-- Apellido -->
            <div class="mb-4">
              <label for="id_apellido" class="form-label fw-semibold">Apellido</label>
              <input type="text" name="apellido" class="form-control form-control-lg" id="id_apellido" value="{{ form.apellido.value|default_if_none:'' }}">
              {% if form.apellido.errors %}
                <div class="text-danger small mt-1">{{ form.apellido.errors }}</div>
              {% endif %}
            </div>

            <!-- Razón Social -->
            <div class="mb-4">
              <label for="id_razon_social" class="form-label fw-semibold">Razón Social</label>
              <input type="text" name="razon_social" class="form-control form-control-lg" id="id_razon_social" value="{{ form.razon_social.value|default_if_none:'' }}">
              {% if form.razon_social.errors %}
                <div class="text-danger small mt-1">{{ form.razon_social.errors }}</div>
              {% endif %}
            </div>

            <!-- CUIT -->
            <div class="mb-4">
              <label for="id_cuit" class="form-label fw-semibold">CUIT</label>
              <input type="text" name="cuit" class="form-control form-control-lg" id="id_cuit" value="{{ form.cuit.value|default_if_none:'' }}">
              {% if form.cuit.errors %}
                <div class="text-danger small mt-1">{{ form.cuit.errors }}</div>
              {% endif %}
            </div>

            <!-- Email -->
            <div class="mb-4">
              <label for="id_email" class="form-label fw-semibold">Email</label>
              <input type="email" name="email" class="form-control form-control-lg" id="id_email" value="{{ form.email.value|default_if_none:'' }}">
              {% if form.email.errors %}
                <div class="text-danger small mt-1">{{ form.email.errors }}</div>
              {% endif %}
            </div>

            <!-- Teléfono -->
            <div class="mb-4">
              <label for="id_telefono" class="form-label fw-semibold">Teléfono</label>
              <input type="text" name="telefono" class="form-control form-control-lg" id="id_telefono" value="{{ form.telefono.value|default_if_none:'' }}">
              {% if form.telefono.errors %}
                <div class="text-danger small mt-1">{{ form.telefono.errors }}</div>
              {% endif %}
            </div>

            <!-- Dirección -->
            <div class="mb-4">
              <label for="id_direccion" class="form-label fw-semibold">Dirección</label>
              <input type="text" name="direccion" class="form-control form-control-lg" id="id_direccion" value="{{ form.direccion.value|default_if_none:'' }}">
              {% if form.direccion.errors %}
                <div class="text-danger small mt-1">{{ form.direccion.errors }}</div>
              {% endif %}
            </div>

            <!-- Condición Fiscal -->
            <div class="mb-4">
              <label for="id_condicion_fiscal" class="form-label fw-semibold">Condición Fiscal</label>
              <select name="condicion_fiscal" id="id_condicion_fiscal" class="form-select form-select-lg" style="width: 100%;">
                {% for opcion in form.fields.condicion_fiscal.queryset %}
                  <option value="{{ opcion.pk }}" {% if form.condicion_fiscal.value|stringformat:"s" == opcion.pk|stringformat:"s" %}selected{% endif %}>
                    {{ opcion.nombre }}
                  </option>
                {% endfor %}
              </select>
              {% if form.condicion_fiscal.errors %}
                <div class="text-danger small mt-1">{{ form.condicion_fiscal.errors }}</div>
              {% endif %}
            </div>



            <!-- Estado -->
            <div class="mb-4">
              <label for="id_activo" class="form-label fw-semibold">Estado</label>
              <select name="activo" id="id_activo" class="form-select form-select-lg">
                <option value="True" {% if form.activo.value == True or form.activo.value == 'True' %}selected{% endif %}>Activo</option>
                <option value="False" {% if form.activo.value == False or form.activo.value == 'False' %}selected{% endif %}>Inactivo</option>
              </select>
              {% if form.activo.errors %}
                <div class="text-danger small mt-1">{{ form.activo.errors }}</div>
              {% endif %}
            </div>

            <!-- Botones -->
            <div class="d-flex justify-content-center gap-2 mt-4">
              <button class="btn px-4 text-white" style="background: #ff8800;" type="submit">
                <i class="fa fa-save me-1"></i>Guardar
              </button>
              <button class="btn btn-secondary px-4" type="button" onclick="window.location.href='{% url 'mis_clientes' %}'">
                <i class="fa fa-times me-1"></i>Cancelar
              </button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}